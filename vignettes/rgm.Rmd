---
title: "An Introduction to rgm"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{rgm}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---


```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,fig.width=6, fig.height=4
)
```



This vignette it is designed to guide users through the process of running an experiment using the RGM package and subsequently analyzing the results. We will start by showcasing the code necessary for conducting the experiment, and then proceed to a detailed analysis of the results using pre-computed data. The focus will be on interpreting various plots generated from the experiment, providing insights into the performance and accuracy of the RGM package.


# Running the Experiment

The following R code demonstrates how to set up and run the simulation experiment using the RGM package. Note that due to the extensive computation time required, this code is not executed in this vignette. However, you can run it in your local R environment to replicate the experiment.

```{r run-experiment, eval=FALSE}
# Running the simulation with specific parameters
a <- sim.rgm(p=87, B=13, n=346, mcmc_iter = 100, seed=1234)

# Fitting the model and measuring the performance
res <- rgm(a$data, X=a$X, iter=10000)

```



This section provides an in-depth analysis of the simulation results using various plots. We will interpret the plots to understand the model's behavior and accuracy.

\begin{equation}
\label{eq:latentprobit}
P({G_{j_1,j_2}}^{(k)}=1~|~G_{j_1,j_2}^{(-k)}, \Theta, w)= 
 \Phi\Big(\alpha_k+{w_{j_1,j_2}}^t    \beta+\mathbf{c}_k^t\sum_{k' \ne k}\mathbf{c}_{k'}1_{\{{G_{j_1,j_2}}^{(k')}=1\}}\Big),
\end{equation}



## Plotting Sample Theta

```{r load, echo=FALSE}
setwd("~/Library/CloudStorage/Dropbox/MultipleBDgraph/package_cpp/HGrM/HGrM/vignettes")
load("SimRes_p87.RData")
res = smaller_res
```



```{r plot-sample-theta, echo=FALSE, warning=FALSE}
# Loading the RGM package
suppressPackageStartupMessages(library(rgm))

suppressPackageStartupMessages(library(ggplot2))

suppressPackageStartupMessages(library(pROC))

ps = post_processing_rgm(a,res)

ps$rgm_recovery
ps$roc_plot
ps$estimation_of_alpha
ps$posterior_distribution
ps$beta_convergence
```



